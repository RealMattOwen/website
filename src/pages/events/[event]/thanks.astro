---
import { getCollection, type CollectionEntry } from "astro:content";
import Layout from "../../../layouts/Layout.astro";
import Hero from "../../../sections/Hero.astro";
import ButtonLink from "../../../components/ButtonLink.astro";

export async function getStaticPaths() {
  const allEvents = await getCollection("events");

  return allEvents.map((event) => ({
    params: { event: event.id },
    props: { event },
  }));
}

interface Props {
  event: CollectionEntry<"events">;
}

const {
  event: {
    data: { id },
  },
} = Astro.props;
---

<Layout
  title="Thanks | NN1 Dev Club"
  description="NN1 Dev Club is a free, quarterly meet-up for a local community of Northamptonshire-based software enthusiasts. A place to meet, collaborate and share knowledge with each other. From devs for devs!"
>
  <Hero
    title="Thanks for signing up for the event"
    description="We don't like bots, so to ensure you are not one, please confirm your email address by clicking the link we just sent you. You will be all set up!"
  >
    <ButtonLink href={`/events/${id}`} text="Go back to event details" />
  </Hero>
</Layout>
